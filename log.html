<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cars project</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" type="text/css" href="css/sweetalert2.min.css">
<!--    <link href="css/font-awesome.css" rel="stylesheet"/>-->
    <link rel="stylesheet" href="css/page.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!--    <script src="js/jquery.min.js"></script>-->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/sweetalert2.min.js"></script>
    <script src="js/log.js"></script>
    <script src="js/main.js"></script>
    <script src="js/pagination.js"></script>
    <script src="js/tableHTMLExport.js"></script>
  <style>
      thead th button {
          background: transparent;
          border: none; /* İsteğe bağlı: düğme kenarlığını kaldırır */
      }
      thead th button {
          background: transparent;
          border: none;
          float: right;
          padding: 0px 0px 0px 3px;
      }
  </style>
</head>
<body class="body">
<!-- Modal info -->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Information</h4>
            </div>
            <div class="modal-body">
                <p>Information</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<!--<div class="topnav" id="myTopnav">

    <a class="navbar-brand" href="log.html" style="padding: 3px 10px!important;">
        <span><img src="img/car.png" style="width: 5vh;"> Cars project</span>
        &lt;!&ndash;<strong><i class="icon fa fa-plane"></i> Courier</strong>&ndash;&gt;
    </a>
    <a href="log.html" class="active_menu"><i class="fa fa-user" aria-hidden="true"></i> Logs</a>
    <a href="cars.html"><i class="fa fa-user" aria-hidden="true"></i> Cars</a>
    <a href="#contact"><i class="fa fa-user" aria-hidden="true"></i> Driver</a>
    <a href="#about"><i class="fa fa-question" aria-hidden="true"></i> Questions</a>
    <a href="#about"><i class="fa fa-question" aria-hidden="true"></i> Permissions</a>
    <a href="#about"><i class="fa fa-map-marker" aria-hidden="true"></i> Gate</a>
    &lt;!&ndash;   <div class="dropdown">
           <button class="dropbtn">Dropdown
               <i class="fa fa-caret-down"></i>
           </button>
           <div class="dropdown-content">
               <a href="#">Link 1</a>
               <a href="#">Link 2</a>
               <a href="#">Link 3</a>
           </div>
       </div>&ndash;&gt;
    &lt;!&ndash;  <ul class="nav navbar-nav navbar-right">
          <li><a href="#"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
      </ul>&ndash;&gt;
    <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="myFunction()">&#9776;</a>
</div>-->
<nav class="navbar navbar-expand-custom navbar-mainbg">
    <a class="navbar-brand navbar-logo" href="#">Cars project</a>
    <button class="navbar-toggler" type="button" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fa fa-bars text-white"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
            <div class="hori-selector">
                <div class="left"></div>
                <div class="right"></div>
            </div>
            <li class="nav-item active ">
                <!-- <a class="nav-link" href="javascript:void(0);"><i class="fa fa-home" aria-hidden="true"></i>Log</a>-->
                <a class="nav-link" href="log.html"><i class="fa fa-home" aria-hidden="true"></i>Log</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="car.html"><i class="fa fa-car" aria-hidden="true"></i>Cars</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="card.html"><i class="fa fa-car" aria-hidden="true"></i>Card</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="driver.html"><i class="fa fa-user" aria-hidden="true"></i>Drivers</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="question.html"><i class="fa fa-question" aria-hidden="true"></i>Questions</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="permissions.html"><i class="fa fa-map-marker" aria-hidden="true"></i>Permissions</a>
            </li>
        </ul>
    </div>
</nav>
<div class="container">
    <div class="row ">
        <fieldset>
            <legend>Filter panel:</legend>
            <!--
                        <div class="col-md-2" style="padding-left: 0px;">
                            <div class="form-item ">
                                <input type="text" id="cartype" autocomplete="off" required>
                                <label for="cartype">Car Type</label>
                            </div>
                        </div>-->
            <div class="col-md-2 col-xs-4" style="padding-left: 0px;">
                <div class="form-item ">
                    <input type="text" id="carNo" autocomplete="off" required >
                    <label for="carNo">Car No</label>
                </div>
            </div>

       <!--     <div class="col-md-2 col-xs-5 m-pad-left-right-zero">
                <div class="form-item ">
                    <input type="text" id="driver" autocomplete="off" required>
                    <label for="driver">Driver</label>
                </div>
            </div>-->
               <div class="col-md-2 col-xs-4" style="padding-left: 0px;">
                   <div class="form-item ">
                       <input type="text" id="gate" autocomplete="off" required>
                       <label for="gate">Gate</label>
                   </div>
               </div>
                  <!--    <div class="col-md-2">
                          <div class="form-item ">
                              <select id="gt">
                                  <option id="0">Select one</option>
                                  <option id="1">ft</option>
                                  <option id="2">dfff</option>
                                  <option id="3">fff</option>
                                  <option id="4">fff</option>
                              </select>
                          </div>
                      </div>-->

            <button type="button" class="btn btn-danger col-md-1 col-xs-3 search" onclick="SearchLogFunk()" > Search <span
                    class="fa fa-search"> </span></button>
<!--
            // <input type="text" class="form-control" placeholder="Search Here.." style="width:10%;margin-bottom:5px;">
-->
            <div  class="col-md-3 col-xs-12 mob-search-exc" style="float:right;">
                <div class="row">
            <div class="col-md-10 col-xs-9 m-pad-left-right-zero"  >
                <div class="form-item ">
                    <input type="text"  id="search_input"  autocomplete="off" required>
                    <label for="search_input">Search here</label>
                </div>
            </div>
            <div class="col-md-2 col-xs-2 m-pad-left-right-zero" >
                <img  src="img/excel2.png" class="export-btn"/>
            </div>
                </div>
                </div>
        </fieldset>


        <!--    <div class="col-md-4 buttons">
                <button type="button" class="btn btn-success" data-toggle="modal" data-target="#myModal"> Add <span class="fa fa-info"> </span></button>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal"> Edit <span class="fa fa-edit"> </span></button>
                <button type="button" class="btn btn-danger" id="delete"> Delete <span class="fa fa-trash"> </span></button>
            </div>-->
    </div>
    <div class="row ">
        <div class="table_div">
            <table class="table table-hover display" id="logtable">
                <thead>
                <tr>
                    <th id="carNoHeader">Car No</th>
                    <th id="driverHeader">Driver</th>
                    <th id="statusHeader2">Gate</th>
                    <th id="dateHeader">Date</th>
                    <th id="statusHeader">Status</th>
                </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>

        <div class="panel-footer">
<!--
          <div class="col-md-7 show-text" ><span style="color: #a1acb8;">Showing 1 to 10 of ${totalTrCount} entries</span></div>;
-->

            <div id="pagination">

            </div>
        </div>
    </div>

</div>


<script>
    /*menu*/




    // ---------Responsive-navbar-active-animation-----------
    function test() {
        var tabsNewAnim = $("#navbarSupportedContent");
        var selectorNewAnim = $("#navbarSupportedContent").find("li").length;
        var activeItemNewAnim = tabsNewAnim.find(".active");
        var activeWidthNewAnimHeight = activeItemNewAnim.innerHeight();
        var activeWidthNewAnimWidth = activeItemNewAnim.innerWidth();
        var itemPosNewAnimTop = activeItemNewAnim.position();
        var itemPosNewAnimLeft = activeItemNewAnim.position();
        $(".hori-selector").css({
            top: itemPosNewAnimTop.top + "px",
            left: itemPosNewAnimLeft.left + "px",
            height: activeWidthNewAnimHeight + "px",
            width: activeWidthNewAnimWidth + "px"
        });
        $("#navbarSupportedContent").on("click", "li", function (e) {
            $("#navbarSupportedContent ul li").removeClass("active");
            $(this).addClass("active");
            var activeWidthNewAnimHeight = $(this).innerHeight();
            var activeWidthNewAnimWidth = $(this).innerWidth();
            var itemPosNewAnimTop = $(this).position();
            var itemPosNewAnimLeft = $(this).position();
            $(".hori-selector").css({
                top: itemPosNewAnimTop.top + "px",
                left: itemPosNewAnimLeft.left + "px",
                height: activeWidthNewAnimHeight + "px",
                width: activeWidthNewAnimWidth + "px"
            });
        });
    }



    $(document).ready(function () {
        setTimeout(function () {
            test();
        });
    });
    $(window).on("resize", function () {
        setTimeout(function () {
            test();
        }, 500);
    });
    $(".navbar-toggler").click(function () {
        $(".navbar-collapse").slideToggle(300);
        setTimeout(function () {
            test();
        });
    });

    // --------------add active class-on another-page move----------
    jQuery(document).ready(function ($) {
        // Get current path and find target link
        var path = window.location.pathname.split("/").pop();

        // Account for home page with empty path
        if (path == "") {
            path = "log.html";
        }

        var target = $('#navbarSupportedContent ul li a[href="' + path + '"]');
        // Add active class to target link
        target.parent().addClass("active");
    });

    // Add active class on another page linked
    // ==========================================
    // $(window).on('load',function () {
    //     var current = location.pathname;
    //     console.log(current);
    //     $('#navbarSupportedContent ul li a').each(function(){
    //         var $this = $(this);
    //         // if the current path is like this link, make it active
    //         if($this.attr('href').indexOf(current) !== -1){
    //             $this.parent().addClass('active');
    //             $this.parents('.menu-submenu').addClass('show-dropdown');
    //             $this.parents('.menu-submenu').parent().addClass('active');
    //         }else{
    //             $this.parent().removeClass('active');
    //         }
    //     })
    // });



    $(document).ready(function(){
        $(".export-btn").click(function(){
            $("#logtable").tableHTMLExport({
                type:'csv',
                filename:'codehim-html-table-to-excel.csv',
            });
        });

    });
    function myFunction() {
        var x = document.getElementById("myTopnav");
        if (x.className === "topnav") {
            x.className += " responsive";
        } else {
            x.className = "topnav";
        }
    }



    document.addEventListener("DOMContentLoaded", function () {
        const table = document.querySelector("#logtable");
        const headers = table.querySelectorAll("thead th");

        headers.forEach((header, index) => {
            const sortUpButton = document.createElement("button");
            sortUpButton.innerHTML = "&#8593;"; // Yukarı ok sembolü
            sortUpButton.className = "sort-button";
            sortUpButton.addEventListener("click", () => sortTable(index, "asc"));

            const sortDownButton = document.createElement("button");
            sortDownButton.innerHTML = "&#8595;"; // Aşağı ok sembolü
            sortDownButton.className = "sort-button";
            sortDownButton.addEventListener("click", () => sortTable(index, "desc"));

            header.appendChild(sortUpButton);
            header.appendChild(sortDownButton);
        });

        function sortTable(columnIndex, order) {
            const rows = Array.from(table.querySelectorAll("tbody tr"));

            rows.sort((a, b) => {
                const cellA = a.getElementsByTagName("td")[columnIndex].textContent.trim();
                const cellB = b.getElementsByTagName("td")[columnIndex].textContent.trim();

                if (order === "asc") {
                    return cellA.localeCompare(cellB, undefined, { numeric: true, sensitivity: "base" });
                } else {
                    return cellB.localeCompare(cellA, undefined, { numeric: true, sensitivity: "base" });
                }
            });

            rows.forEach(row => table.querySelector("tbody").appendChild(row));
        }
    });
</script>

</body>
</html>
